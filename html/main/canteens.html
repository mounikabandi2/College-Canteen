<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Canteens - College Canteen</title>
    <link rel="stylesheet" href="../../css/design-system.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        .canteens-header {
            padding: 120px 0 60px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            position: relative;
            overflow: hidden;
        }
        
        .canteens-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1567521464027-f127ff144326?w=1200&h=400&fit=crop&crop=center') center/cover;
            opacity: 0.2;
            filter: blur(2px);
        }
        
        .canteens-content {
            padding: var(--space-16) 0;
        }
        
        .canteens-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--space-8);
        }
        
        .canteen-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            transition: all var(--transition-normal);
            cursor: pointer;
            position: relative;
        }
        
        .canteen-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }
        
        .canteen-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .canteen-badge {
            position: absolute;
            top: var(--space-4);
            right: var(--space-4);
            background: linear-gradient(135deg, var(--success), #059669);
            color: var(--text);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
        }
        
        .canteen-content {
            padding: var(--space-6);
        }
        
        .canteen-header {
            margin-bottom: var(--space-4);
        }
        
        .canteen-name {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text);
            margin-bottom: var(--space-2);
        }
        
        .canteen-rating {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-3);
        }
        
        .rating-stars {
            color: var(--accent);
        }
        
        .rating-text {
            color: var(--text-muted);
            font-size: var(--text-sm);
        }
        
        .canteen-info {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            color: var(--text-muted);
            font-size: var(--text-sm);
        }
        
        .info-icon {
            color: var(--primary);
            width: 16px;
        }
        
        .canteen-actions {
            display: flex;
            gap: var(--space-3);
        }
        
        .view-menu-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--text);
            border: none;
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius-lg);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .view-menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .favorite-btn {
            background: var(--surface-light);
            border: 1px solid var(--border);
            color: var(--text-muted);
            padding: var(--space-3);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .favorite-btn:hover,
        .favorite-btn.active {
            background: var(--error);
            border-color: var(--error);
            color: var(--text);
        }
        
        .filters-section {
            margin-bottom: var(--space-8);
        }
        
        .filters-container {
            display: flex;
            justify-content: center;
            gap: var(--space-4);
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: var(--space-3) var(--space-6);
            background: var(--surface);
            border: 2px solid var(--border);
            color: var(--text-muted);
            border-radius: var(--radius-full);
            cursor: pointer;
            font-weight: 500;
            transition: all var(--transition-fast);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-color: var(--primary);
            color: var(--text);
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .canteens-grid {
                grid-template-columns: 1fr;
                gap: var(--space-6);
            }
            
            .filters-container {
                flex-direction: column;
                align-items: center;
            }
            
            .filter-btn {
                width: 200px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=80&h=80&fit=crop&crop=center" alt="College Canteen Logo" class="nav-logo">
                <span>College Canteen</span>
            </div>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="home.html" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="canteens.html" class="nav-link active"><i class="fas fa-utensils"></i> Canteens</a></li>
                <li><a href="track.html" class="nav-link"><i class="fas fa-truck"></i> Track Order</a></li>
                <li><a href="cart.html" class="nav-link"><i class="fas fa-shopping-cart"></i> Cart <span class="cart-badge" id="cartCount">0</span></a></li>
                <li><a href="../dashboard/menu.html" class="nav-link"><i class="fas fa-cog"></i> Partner</a></li>
                <li><a href="#" id="logout-btn" class="nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
            
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <main>
        <section class="canteens-header">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title animate-fade-in-up">Campus Canteens</h1>
                    <p class="hero-subtitle animate-fade-in-up">Discover amazing food from all our campus locations with real-time availability and ratings.</p>
                </div>
            </div>
        </section>

        <section class="canteens-content">
            <div class="container">
                <div class="filters-section">
                    <div class="filters-container">
                        <button class="filter-btn active" data-filter="all">All Canteens</button>
                        <button class="filter-btn" data-filter="open">Open Now</button>
                        <button class="filter-btn" data-filter="popular">Most Popular</button>
                        <button class="filter-btn" data-filter="nearby">Nearby</button>
                    </div>
                </div>
                
                <div class="canteens-grid" id="canteensGrid">
                    <div class="canteen-card animate-fade-in-up" data-status="open" data-rating="4.5">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge">Open</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Central Gallery Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </span>
                                    <span class="rating-text">4.5 (324 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Open: 7:00 AM - 9:00 PM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Main Campus, Ground Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>Multi-cuisine • Fast Food • Beverages</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('gallery')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="canteen-card animate-fade-in-up" data-status="open" data-rating="4.4">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1567521464027-f127ff144326?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge">Open</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Engineering Block Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </span>
                                    <span class="rating-text">4.4 (256 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Open: 8:00 AM - 6:00 PM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Engineering Block, 1st Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>South Indian • Snacks • Coffee</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('engineering')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="canteen-card animate-fade-in-up" data-status="open" data-rating="4.6">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge">Open</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Medical Block Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </span>
                                    <span class="rating-text">4.6 (189 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Open: 8:00 AM - 7:00 PM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Medical Block, Ground Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>Healthy Food • Salads • Fresh Juices</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('medical')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="canteen-card animate-fade-in-up" data-status="closed" data-rating="4.2">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge" style="background: var(--error);">Closed</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Arts Block Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </span>
                                    <span class="rating-text">4.2 (145 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Closed • Opens at 9:00 AM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Arts Block, 2nd Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>Continental • Desserts • Tea/Coffee</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('arts')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="canteen-card animate-fade-in-up" data-status="open" data-rating="4.3">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge">Open</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Science Block Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </span>
                                    <span class="rating-text">4.3 (198 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Open: 9:00 AM - 6:00 PM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Science Block, Ground Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>North Indian • Chinese • Beverages</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('science')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="canteen-card animate-fade-in-up" data-status="open" data-rating="4.7">
                        <div class="canteen-image" style="background-image: url('https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=200&fit=crop&crop=center');"></div>
                        <div class="canteen-badge">Open</div>
                        <div class="canteen-content">
                            <div class="canteen-header">
                                <h3 class="canteen-name">Hostel Block Canteen</h3>
                                <div class="canteen-rating">
                                    <span class="rating-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </span>
                                    <span class="rating-text">4.7 (412 reviews)</span>
                                </div>
                            </div>
                            <div class="canteen-info">
                                <div class="info-item">
                                    <i class="fas fa-clock info-icon"></i>
                                    <span>Open: 6:00 AM - 10:00 PM</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt info-icon"></i>
                                    <span>Hostel Complex, Ground Floor</span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-utensils info-icon"></i>
                                    <span>24/7 Service • All Cuisines • Late Night</span>
                                </div>
                            </div>
                            <div class="canteen-actions">
                                <button class="view-menu-btn" onclick="viewCanteenMenu('hostel')">
                                    <i class="fas fa-eye"></i> View Menu
                                </button>
                                <button class="favorite-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer style="background: var(--surface); border-top: 1px solid var(--border); padding: var(--space-12) 0 var(--space-6);">
        <div class="container">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-8); margin-bottom: var(--space-8);">
                <div>
                    <h3 style="color: var(--text); margin-bottom: var(--space-4); font-family: var(--font-display);">College Canteen</h3>
                    <p style="color: var(--text-muted); margin-bottom: var(--space-4);">The future of campus dining, powered by AI and designed for students.</p>
                    <p style="color: var(--text-muted);">Contact: <a href="mailto:hello@collegecanteen.com" style="color: var(--primary);">hello@collegecanteen.com</a></p>
                </div>
                <div>
                    <h3 style="color: var(--text); margin-bottom: var(--space-4);">Quick Links</h3>
                    <div style="display: flex; flex-direction: column; gap: var(--space-2);">
                        <a href="home.html" style="color: var(--text-muted);">Home</a>
                        <a href="canteens.html" style="color: var(--text-muted);">Canteens</a>
                        <a href="track.html" style="color: var(--text-muted);">Track Order</a>
                        <a href="cart.html" style="color: var(--text-muted);">Cart</a>
                    </div>
                </div>
            </div>
            <div style="text-align: center; padding-top: var(--space-6); border-top: 1px solid var(--border); color: var(--text-muted);">
                <p>© 2025 College Canteen. All rights reserved. Built with ❤️ for students.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Authentication check
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser || !currentUser.isLoggedIn) {
                window.location.href = '../auth/login.html';
                return;
            }

            // Initialize cart count
            updateCartCount();

            // Mobile menu toggle
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navMenu = document.getElementById('navMenu');
            
            mobileMenuToggle?.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                const icon = mobileMenuToggle.querySelector('i');
                icon.className = navMenu.classList.contains('active') ? 'fas fa-times' : 'fas fa-bars';
            });

            // Filter functionality
            const filterBtns = document.querySelectorAll('.filter-btn');
            const canteenCards = document.querySelectorAll('.canteen-card');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active filter
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    const filter = btn.getAttribute('data-filter');
                    
                    canteenCards.forEach(card => {
                        let show = false;
                        
                        switch(filter) {
                            case 'all':
                                show = true;
                                break;
                            case 'open':
                                show = card.getAttribute('data-status') === 'open';
                                break;
                            case 'popular':
                                show = parseFloat(card.getAttribute('data-rating')) >= 4.5;
                                break;
                            case 'nearby':
                                show = true; // For demo, show all as nearby
                                break;
                        }
                        
                        card.style.display = show ? 'block' : 'none';
                    });
                });
            });

            // Logout functionality
            document.getElementById('logout-btn')?.addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('currentUser');
                window.location.href = '../auth/login.html';
            });

            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.animate-fade-in-up').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'all 0.6s ease-out';
                observer.observe(el);
            });

            function updateCartCount() {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const count = cart.reduce((total, item) => total + item.quantity, 0);
                const cartBadge = document.getElementById('cartCount');
                if (cartBadge) {
                    cartBadge.textContent = count;
                    cartBadge.style.display = count > 0 ? 'inline-block' : 'none';
                }
            }
        });

        // Global functions
        function viewCanteenMenu(canteenId) {
            const canteenMap = {
                'gallery': 'central-gallery',
                'engineering': 'engineering-block',
                'medical': 'medical-block',
                'arts': 'arts-block',
                'science': 'science-block',
                'hostel': 'hostel-block'
            };
            
            const canteenParam = canteenMap[canteenId] || 'central-gallery';
            window.location.href = `canteen-menu-enhanced.html?canteen=${canteenParam}`;
        }

        function toggleFavorite(btn) {
            const icon = btn.querySelector('i');
            if (icon.classList.contains('far')) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                btn.classList.add('active');
                showToast('Added to favorites!', 'success');
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                btn.classList.remove('active');
                showToast('Removed from favorites!', 'success');
            }
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type} show`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>